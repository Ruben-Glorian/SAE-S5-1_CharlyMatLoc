@use "sass:math";

$nbColGril: 2;
$lgGout: 2.7%;
$lgCol: math.div((100% - ($nbColGril + 1) * $lgGout), $nbColGril);

body {
    width: 97%;
    display: grid;
    grid-template-columns: repeat($nbColGril, $lgCol);
    font-family: Arial, sans-serif;
    color:#333;
    column-gap: $lgGout;
    margin-left: 3%;

    &>div:nth-child(3) {
        display: grid;
        grid-template-columns: repeat($nbColGril, $lgCol);
        gap: $lgGout;
        grid-column: 1 / calc($nbColGril + 1);
        margin-bottom: 16px;
    }
}

#userInfoBar {
    background: #e3f2fd;
    color: #222;
    padding: 8px 16px;
    display: none;
}

h1 {
    grid-column: 1 / calc($nbColGril + 1);
    font-size: 1em;
    text-align: center;
}

.catalogue {
    grid-column: 1 / 3;
    width: 100%;
    display:grid;
    grid-template-columns: repeat($nbColGril, $lgCol);
    gap: $lgGout;
}

.card {
    border:1px solid #e0e0e0;
    border-radius:8px;
    padding:0.5%;
    background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.04);
    text-align:center;

    img {
        width:70%;
        height:140px;
        object-fit:cover;
        border-radius:4px;
        margin-bottom:0.1%;
    }
}

.name {
    font-weight:600;
    margin-bottom:6px;
}

.meta {
    color:#666;
    font-size:0.9em;
}

.empty {
    color:#888;
}

.btn-nav, #valider_panier {
    background: #1976d2;
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 10px 22px;
    font-size: 1em;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(25, 118, 210, 0.08);
    transition: background 0.2s;
    margin-bottom: 20px;
}
.btn-nav:hover {
    background: #1565c0;
}

#signupForm, #signinForm {
    max-width: 500px;
    margin: 32px auto;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    padding: 32px 24px;
    text-align: center;
    grid-column: 1 / calc($nbColGril + 1);
    text-align: center;
}

p {
    grid-column: 1 / calc($nbColGril + 1);
    text-align: center;
}

.empty {
    grid-column: 1 / calc($nbColGril + 1);
}

#filters {
    grid-column: 1 / calc($nbColGril + 1);
    width: 100%;
    display: grid;
    grid-template-columns: repeat(2, 40%);
    margin: 20px;
    row-gap: 1%;
}

#pagination {
    grid-column: 1 / calc($nbColGril + 1);
    grid-row: 6;
    text-align: center;
    margin-top: 15%;
}

@media only screen and (min-width: 593px) {
    $nbColGril: 3;
    $lgCol: math.div((100% - ($nbColGril + 1) * $lgGout), $nbColGril);
    $lgCol2: math.div((100% - 3 * $lgGout), 2);

    body {
        grid-template-columns: repeat($nbColGril, $lgCol);

        &>div:nth-child(3) {
            grid-column: 1 / calc($nbColGril + 1);
            grid-template-columns: repeat(2, $lgCol2);
        }
    }

    h1 {
        grid-column: 1 / calc($nbColGril + 1);
        font-size: 2em;
    }

    .catalogue {
        grid-column: 1 / calc($nbColGril + 1 );
        grid-template-columns: repeat($nbColGril, $lgCol);
    }

    #signupForm, #signinForm {
        grid-column: 1 / calc($nbColGril + 1);
        grid-row: 2;
    }

    .empty {
        grid-column: 1 / calc($nbColGril + 1);
    }

    p {
        grid-column: 1 / calc($nbColGril + 1);
        grid-row: 3;
    }

    #pagination {
        grid-column: 1 / calc($nbColGril + 1);
        margin-top: 5%;
    }
}

@media only screen and (min-width: 783px) {
    $nbColGril: 4;
    $lgCol: math.div((100% - ($nbColGril + 1) * $lgGout), $nbColGril);

    body {
        grid-template-columns: repeat($nbColGril, $lgCol);

        &>div:nth-child(3) {
            grid-column: 1 / calc($nbColGril + 1);
            grid-template-columns: repeat($nbColGril, $lgCol);
        }
    }

    h1 {
        grid-column: 1 / calc($nbColGril + 1);
    }

    .catalogue {
        grid-column: 1 / calc($nbColGril + 1);
        grid-template-columns: repeat($nbColGril, $lgCol);
    }

    #signupForm, #signinForm {
        grid-column: 2 / calc($nbColGril + 1);
    }

    .empty {
        grid-column: 1 / calc($nbColGril + 1);
    }

    p {
        grid-column: 2 / calc($nbColGril + 1);
    }

    #pagination {
        grid-column: 1 / calc($nbColGril + 1);
    }
}

@media only screen and (min-width: 1024px) {
    $nbColGril: 5;
    $lgCol: math.div((100% - ($nbColGril + 1) * $lgGout), $nbColGril);
    $lgCol2: math.div((100% - 5 * $lgGout), 4);

    body {
        grid-template-columns: repeat($nbColGril, $lgCol);

        &>div:nth-child(3) {
            grid-column: 1 / calc($nbColGril + 1);
            grid-template-columns: repeat(4, $lgCol2);
        }
    }

    h1 {
        grid-column: 1 / calc($nbColGril + 1);
    }

    .catalogue {
        grid-column: 1 / calc($nbColGril + 1);
        grid-template-columns: repeat($nbColGril, $lgCol);
    }

    #signupForm, #signinForm {
        grid-column: 3 / calc($nbColGril);
    }

    .empty {
        grid-column: 1 / calc($nbColGril + 1);
    }

    p {
        grid-column: 3 / calc($nbColGril);
    }

    #pagination {
        grid-column: 1 / calc($nbColGril + 1);
    }
}